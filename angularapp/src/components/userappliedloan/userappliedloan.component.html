<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<div class="container mx-auto p-4 bg-white shadow-md rounded-lg" style="min-height: 700px;">
  <h2 class="text-3xl font-bold mb-6 text-center">Your Applied Loans</h2>

  <div class="mb-6">
    <p class="text-gray-700">Here you can find the status of all your loan applications. Our process ensures that each
      application is thoroughly reviewed to provide you with the best possible support for your educational journey.</p>
  </div>

  <div class="mb-6">
    <h3 class="text-xl font-bold mb-2">Loan Application Process</h3>
    <p class="text-gray-700">Our loan application process is designed to be straightforward and transparent. Here are
      the steps involved:</p>
    <ol class="list-decimal list-inside text-gray-700">
      <li>Submit your loan application with all required details and documents.</li>
      <li>Our team reviews your application and conducts a background verification.</li>
      <li>You will receive updates on the status of your application (Pending, Approved, or Rejected).</li>
      <li>If approved, the loan amount will be disbursed to your institution.</li>
    </ol>
  </div>

  <div class="mb-6">
    <h3 class="text-xl font-bold mb-2">Background Verification</h3>
    <p class="text-gray-700">As part of our commitment to providing secure and reliable loans, we conduct a thorough
      background verification process. This includes:</p>
    <ul class="list-disc list-inside text-gray-700">
      <li>Verification of your academic records and institution details.</li>
      <li>Assessment of your financial background and credit history.</li>
      <li>Validation of the documents submitted with your application.</li>
    </ul>
  </div>

  <h2 class="text-2xl font-bold mb-4">Applied Loans</h2>
  <table class="min-w-full bg-white border border-gray-300 rounded-lg">
    <thead>
        <tr class="bg-gray-100">
            <th class="py-2 px-4 border-b border-gray-300 text-center">S.No</th>
            <th class="py-2 px-4 border-b border-gray-300 text-center">Institution Name</th>
            <th class="py-2 px-4 border-b border-gray-300 text-center">Submission Date</th>
            <th class="py-2 px-4 border-b border-gray-300 text-center">Status</th>
            <th class="py-2 px-4 border-b border-gray-300 text-center">Proof</th>
        </tr> 
    </thead>
    <tbody>
        <tr *ngFor="let appliedLoan of appliedLoans; let i = index" class="hover:bg-gray-50">
            <td class="py-2 px-4 border-b border-gray-300 text-center">{{ i + 1 }}</td>
            <td class="py-2 px-4 border-b border-gray-300 text-center">{{appliedLoan.institution}}</td>
            <td class="py-2 px-4 border-b border-gray-300 text-center">
                {{appliedLoan.submissionDate[2]}}/{{appliedLoan.submissionDate[1]}}/{{appliedLoan.submissionDate[0]}}
            </td>
            <td class="py-2 px-4 border-b border-gray-300 text-center">
                <button *ngIf="appliedLoan.loanStatus === 0" class="bg-yellow-500 text-white font-bold py-1 px-2 rounded text-sm">Pending</button>
                <button *ngIf="appliedLoan.loanStatus === 1" class="bg-green-500 text-white font-bold py-1 px-2 rounded text-sm">Approved</button>
                <button *ngIf="appliedLoan.loanStatus === -1" class="bg-red-500 text-white font-bold py-1 px-2 rounded text-sm">Rejected</button>
            </td>
            <td class="py-2 px-4 border-b border-gray-300 text-center">
                <button (click)="showProof(appliedLoan.imageData)" class="bg-blue-500 text-white font-bold py-1 px-2 rounded text-sm">Show Proof</button>
            </td>
        </tr>
    </tbody>
</table>

<!-- Popup Modal -->
<div *ngIf="showImagePopup" class="fixed inset-1 flex items-center justify-center bg-black bg-opacity-50">
    <div class="bg-white p-1 rounded-lg shadow-lg">
        <div class="text-center mt-4">
            <img [src]="'data:image/jpeg;base64,' + selectedImageData" alt="Proof Image" class="mx-auto h-52 object-contain rounded-md border border-gray-300 shadow-sm" />
        </div>
        <button (click)="closePopup()" class="mt-4 bg-red-500 text-white font-bold py-1 px-2 rounded text-sm">Close</button>
    </div>
</div>



  <div class="mt-6">
    <h3 class="text-xl font-bold mb-2">Need Assistance?</h3>
    <p class="text-gray-700">If you have any questions or need help with your loan applications, please contact our
      support team. We are here to assist you every step of the way.</p>
    <!-- <button
      class="bg-green-500 text-white font-bold py-2 px-4 rounded mt-2 hover:bg-green-700 transition duration-300">Contact
      Support</button> -->
  </div>
</div>